/*!
 * rat_web_vitals-2.0.0.min.js
 * Copyright (c) 2023 Rakuten Group, Inc.
 * Date : 2023-10-04 17:33:30
 */
(()=>{"use strict";var e={996:e=>{var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?c((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function o(e,t){try{return t in e}catch(e){return!1}}function c(e,n,u){(u=u||{}).arrayMerge=u.arrayMerge||i,u.isMergeableObject=u.isMergeableObject||t,u.cloneUnlessOtherwiseSpecified=r;var s=Array.isArray(n);return s===Array.isArray(e)?s?u.arrayMerge(e,n,u):function(e,t,n){var i={};return n.isMergeableObject(e)&&a(e).forEach((function(t){i[t]=r(e[t],n)})),a(t).forEach((function(a){(function(e,t){return o(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(o(e,a)&&n.isMergeableObject(t[a])?i[a]=function(e,t){if(!t.customMerge)return c;var n=t.customMerge(e);return"function"==typeof n?n:c}(a,n)(e[a],t[a],n):i[a]=r(t[a],n))})),i}(e,n,u):r(n,u)}c.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return c(e,n,t)}),{})};var u=c;e.exports=u}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(996),t=n.n(e);class r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n={eventType:void 0,pData:{pgl:/iPhone|iPod|Android.*Mobile/.test(window.navigator.userAgent)?"sp":"pc"},cpData:{},options:[]};this.data=t()(n,e),this.queue=[],this.isRATAvailable=!1}waitRATReady(){if(this.isRATAvailable=r.checkRATObject(),this.isRATAvailable){const e=document.querySelector("#ratAccountId"),t=document.querySelector("#ratServiceId"),n=document.querySelector("#ratPageType"),r=document.querySelector("#ratSiteSection"),i=document.querySelector("#ratAdobeSiteSection");return this.data.accountId=e?e.getAttribute("value"):"",this.data.serviceId=t?t.getAttribute("value"):"",this.data.pData.pgt=n?n.getAttribute("value"):"",this.data.pData.ssc=r?r.getAttribute("value"):"",void(this.data.pData.assc=i?i.getAttribute("value"):"")}let e,t=100;const n=()=>{this.isRATAvailable=r.checkRATObject(),this.isRATAvailable&&(window.removeEventListener("DOMContentLoaded",n),window.removeEventListener("load",n),clearInterval(e),this.sendFromQueue())};e=setInterval((()=>{t-=1,t<=0?clearInterval(e):n()}),100),window.addEventListener("DOMContentLoaded",n),window.addEventListener("load",n)}send(e){if(!this.isRATAvailable)return void this.queue.push(e);const n=t()(this.data,e);n.eventType&&window.RAT.addCustomEvent(n)}sendFromQueue(){this.isRATAvailable&&this.queue.forEach((e=>{this.send(e)}))}static checkRATObject(){return!(!window.RAT||"function"!=typeof window.RAT.addCustomEvent)}}var i,a,o,c,u,s=-1,d=function(e){addEventListener("pageshow",(function(t){t.persisted&&(s=t.timeStamp,e(t))}),!0)},l=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},f=function(){var e=l();return e&&e.activationStart||0},v=function(e,t){var n=l(),r="navigate";return s>=0?r="back-forward-cache":n&&(document.prerendering||f()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},p=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},m=function(e,t,n,r){var i,a;return function(o){t.value>=0&&(o||r)&&((a=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},h=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},g=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},y=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},b=-1,T=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},w=function(e){"hidden"===document.visibilityState&&b>-1&&(b="visibilitychange"===e.type?e.timeStamp:0,E())},A=function(){addEventListener("visibilitychange",w,!0),addEventListener("prerenderingchange",w,!0)},E=function(){removeEventListener("visibilitychange",w,!0),removeEventListener("prerenderingchange",w,!0)},S=function(){return b<0&&(b=T(),A(),d((function(){setTimeout((function(){b=T(),A()}),0)}))),{get firstHiddenTime(){return b}}},L=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},O=[1800,3e3],C=function(e,t){t=t||{},L((function(){var n,r=S(),i=v("FCP"),a=p("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(a.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-f(),0),i.entries.push(e),n(!0)))}))}));a&&(n=m(e,i,O,t.reportAllChanges),d((function(r){i=v("FCP"),n=m(e,i,O,t.reportAllChanges),h((function(){i.value=performance.now()-r.timeStamp,n(!0)}))})))}))},M=[.1,.25],R={passive:!0,capture:!0},j=new Date,I=function(e,t){i||(i=t,a=e,o=new Date,k(removeEventListener),P())},P=function(){if(a>=0&&a<o-j){var e={entryType:"first-input",name:i.type,target:i.target,cancelable:i.cancelable,startTime:i.timeStamp,processingStart:i.timeStamp+a};c.forEach((function(t){t(e)})),c=[]}},D=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){I(e,t),i()},r=function(){i()},i=function(){removeEventListener("pointerup",n,R),removeEventListener("pointercancel",r,R)};addEventListener("pointerup",n,R),addEventListener("pointercancel",r,R)}(t,e):I(t,e)}},k=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,D,R)}))},q=[100,300],x=0,F=1/0,V=0,W=function(e){e.forEach((function(e){e.interactionId&&(F=Math.min(F,e.interactionId),V=Math.max(V,e.interactionId),x=V?(V-F)/7+1:0)}))},_=function(){return u?x:performance.interactionCount||0},B=function(){"interactionCount"in performance||u||(u=p("event",W,{type:"event",buffered:!0,durationThreshold:0}))},N=[200,500],H=0,z=function(){return _()-H},Q=[],$={},K=function(e){var t=Q[Q.length-1],n=$[e.interactionId];if(n||Q.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};$[r.id]=r,Q.push(r)}Q.sort((function(e,t){return t.latency-e.latency})),Q.splice(10).forEach((function(e){delete $[e.id]}))}},U=[2500,4e3],G={},J=[800,1800],X=function e(t){document.prerendering?L((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},Y=function(e,t){t=t||{};var n=v("TTFB"),r=m(e,n,J,t.reportAllChanges);X((function(){var i=l();if(i){var a=i.responseStart;if(a<=0||a>performance.now())return;n.value=Math.max(a-f(),0),n.entries=[i],r(!0),d((function(){n=v("TTFB",0),(r=m(e,n,J,t.reportAllChanges))(!0)}))}}))};class Z{constructor(e){let{ratSender:t}=e;this.ratSender=t,this.performanceNavigation=performance.getEntriesByType("navigation")[0]}initialize(){C((e=>{this.reportWebVitals(e)})),function(e,t){t=t||{},L((function(){var n,r=S(),o=v("FID"),u=function(e){e.startTime<r.firstHiddenTime&&(o.value=e.processingStart-e.startTime,o.entries.push(e),n(!0))},s=function(e){e.forEach(u)},l=p("first-input",s);n=m(e,o,q,t.reportAllChanges),l&&g(y((function(){s(l.takeRecords()),l.disconnect()}))),l&&d((function(){var r;o=v("FID"),n=m(e,o,q,t.reportAllChanges),c=[],a=-1,i=null,k(addEventListener),r=u,c.push(r),P()}))}))}((e=>{this.reportWebVitals(e)})),function(e,t){t=t||{},C(y((function(){var n,r=v("CLS",0),i=0,a=[],o=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=a[0],n=a[a.length-1];i&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,a.push(e)):(i=e.value,a=[e])}})),i>r.value&&(r.value=i,r.entries=a,n())},c=p("layout-shift",o);c&&(n=m(e,r,M,t.reportAllChanges),g((function(){o(c.takeRecords()),n(!0)})),d((function(){i=0,r=v("CLS",0),n=m(e,r,M,t.reportAllChanges),h((function(){return n()}))})),setTimeout(n,0))})))}((e=>{this.reportWebVitals(e)})),function(e,t){t=t||{},L((function(){var n,r=S(),i=v("LCP"),a=function(e){var t=e[e.length-1];t&&t.startTime<r.firstHiddenTime&&(i.value=Math.max(t.startTime-f(),0),i.entries=[t],n())},o=p("largest-contentful-paint",a);if(o){n=m(e,i,U,t.reportAllChanges);var c=y((function(){G[i.id]||(a(o.takeRecords()),o.disconnect(),G[i.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(c,0)}),!0)})),g(c),d((function(r){i=v("LCP"),n=m(e,i,U,t.reportAllChanges),h((function(){i.value=performance.now()-r.timeStamp,G[i.id]=!0,n(!0)}))}))}}))}((e=>{this.reportWebVitals(e)})),Y((e=>{this.reportWebVitals(e)})),function(e,t){t=t||{},L((function(){var n;B();var r,i=v("INP"),a=function(e){e.forEach((function(e){e.interactionId&&K(e),"first-input"===e.entryType&&!Q.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&K(e)}));var t,n=(t=Math.min(Q.length-1,Math.floor(z()/50)),Q[t]);n&&n.latency!==i.value&&(i.value=n.latency,i.entries=n.entries,r())},o=p("event",a,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});r=m(e,i,N,t.reportAllChanges),o&&("interactionId"in PerformanceEventTiming.prototype&&o.observe({type:"first-input",buffered:!0}),g((function(){a(o.takeRecords()),i.value<0&&z()>0&&(i.value=0,i.entries=[]),r(!0)})),d((function(){Q=[],H=_(),i=v("INP"),r=m(e,i,N,t.reportAllChanges)})))}))}((e=>{this.reportWebVitals(e)})),this.reportPageLoadTime()}reportPageLoadTime(){var e;e=()=>{const e={name:"pageLoadTime",value:""};if(void 0===this.performanceNavigation){const t=performance.timing.loadEventEnd-performance.timing.navigationStart;e.value=t}else{const t=this.performanceNavigation.loadEventEnd;e.value=t}e.value<0||this.reportWebVitals(e)},"complete"===document.readyState?setTimeout(e,0):window.addEventListener("pageshow",e)}reportWebVitals(e){const t={eventType:"async",pData:{compid:["rat_web_vitals_".concat(e.name.toLowerCase())]},cpData:{value:e.value,rating:e.rating,navigationType:e.navigationType,uniqueKey:e.id},options:["url","ua"]};this.ratSender.send(t)}}const ee=e=>{let{ratSender:t}=e;new Z({ratSender:t}).initialize()},te=new r;te.waitRATReady(),ee({ratSender:te}),window.addEventListener("initializeratwebvitals",(()=>{ee({ratSender:te})}))})()})();